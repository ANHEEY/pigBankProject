<?xml version="1.0" encoding="UTF-8"?>

 <!DOCTYPE mapper
     PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
     "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
     
<mapper namespace="com.pigbank.project.dao.CustomerMapper">

   <insert id="insertCustomer" parameterType="com.pigbank.project.dto.CustomerDTO">
      INSERT INTO customer(id, pwd, name, email, address, hp, birthday, key)
      VALUES(#{id},#{pwd},#{name},#{email},#{address},#{hp},#{birthday},5555)
   </insert>

   <select id="loginCustomer" parameterType="String" resultType="com.pigbank.project.dto.CustomerDTO">
      SELECT * FROM customer WHERE id=#{id}
   </select>
   
   <insert id="depositPdSave" parameterType="com.pigbank.project.dto.DepositProductDTO">
      INSERT INTO DEPOSIT_PRODUCT(dPdName,dPeriod,dRate,dContent,dMin,dMax,dCxlRate)
      VALUES(#{dpdName},#{dperiod},#{drate},#{dcontent},#{dmin},#{dmax},#{dcxlRate})
   </insert>
   
   <select id="depositProductList" resultType="com.pigbank.project.dto.DepositProductDTO">
      SELECT * FROM DEPOSIT_PRODUCT WHERE show='y'ORDER BY dRegDate DESC
   </select>
   
   <select id="depositPdDetail" parameterType="String" resultType="com.pigbank.project.dto.DepositProductDTO">
      SELECT * FROM DEPOSIT_PRODUCT WHERE dPdName = #{dpdName}
   </select>
   
   <update id="depositPdUpdate" parameterType="com.pigbank.project.dto.DepositProductDTO">
   	UPDATE DEPOSIT_PRODUCT 
   	   SET dPeriod=#{dperiod}, dRate=#{drate}, dContent=#{dcontent}, dMin=#{dmin}, dMax=#{dmax}, dCxlRate=#{dcxlRate}
 	 WHERE dPdName =#{dpdName}
   </update>
   
   <update id="depositPdDelete" parameterType="String">
   		UPDATE DEPOSIT_PRODUCT 
		   SET show='n'
		 WHERE dPdName =#{dpdName} 
   </update>
   
   <!-- //////////////////////////////////////////////////////////////////////////////////////////////////////// -->

	<select id="pdDepositList" resultType="com.pigbank.project.dto.DepositProductDTO">
		SELECT * FROM DEPOSIT_PRODUCT WHERE show='y'
	</select>
	
	<select id="pdDepositDetailInfo" parameterType="String" resultType="com.pigbank.project.dto.DepositProductDTO">
		SELECT * FROM deposit_product WHERE dPdName=#{dpdName}
	</select>   
	
	
</mapper>